<?php
    $this->partial("head");

    $games = array(
        'ase' => array(
            'name' => 'All-Seeing Eye',
            'link' => '/docs/ase',
            'file' => '/img/protocols/ase.jpg'
        ),
        'gamespy' => array(
            'name' => 'GameSpy',
            'link' => '/docs/gamespy',
            'file' => '/img/protocols/gamespy.jpg'
        ),
        'source' => array(
            'name' => 'Source',
            'link' => '/docs/source',
            'file' => '/img/protocols/source.jpg'
        )
    );
?>
<nav class="nav has-shadow">
    <div class="container">
        <div class="nav-left">
            <a class="nav-item is-tab" href="/">
                Game Servers
            </a>
            <a class="nav-item is-tab is-active" href="#">
                Protocols
            </a>
        </div>
    </div>
</nav>
<section class="section">
    <div class="container">
        <div class="notification is-danger">This API service is a work in progress. Currently this is the public alpha version of the project.</div>
        <div class="columns is-multiline">
            <?php
                $liveAPIs = array('ase','gamespy','source');
                foreach ($games as $key => $value) {
                    if(in_array($key, $liveAPIs)) {
                        header("Link: <".$value['file'].">; rel=preload; as=image", false);
                        echo '<div class="column is-full-mobile is-one-third-tablet is-one-quarter-desktop">
                            <div class="card shadow-hover">
                                <div class="card-image">
                                    <figure class="image">
                                        <a href="'.$value['link'].'"><img src="'.$value['file'].'" alt="'.$value['name'].'"></a>
                                    </figure>
                                </div>
                                <a class="card-content button is-dark is-fullwidth" style="border-radius:0;border:0px;" href="'.$value['link'].'">View Documentation</a>
                            </div>
                        </div>';
                    }
                }
             ?>
        </div>
    </div>
</section>
<?php
    $this->partial("footer");
?>
